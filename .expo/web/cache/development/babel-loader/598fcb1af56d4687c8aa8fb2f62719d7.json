{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from \"axios\";\nvar TMDB_KEY = \"10923b261ba94d897ac6b81148314a3f\";\n\nvar makeRequest = function makeRequest(path, params) {\n  return axios.get(\"https://api.themoviedb.org/3\" + path, {\n    params: _objectSpread(_objectSpread({}, params), {}, {\n      api_key: TMDB_KEY\n    })\n  });\n};\n\nvar getAnything = function getAnything(path) {\n  var params,\n      _await$makeRequest,\n      results,\n      data,\n      _args = arguments;\n\n  return _regeneratorRuntime.async(function getAnything$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          params = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n          _context.prev = 1;\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(makeRequest(path, params));\n\n        case 4:\n          _await$makeRequest = _context.sent;\n          results = _await$makeRequest.data.results;\n          data = _await$makeRequest.data;\n          return _context.abrupt(\"return\", [results || data, null]);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](1);\n          console.log(_context.t0);\n          return _context.abrupt(\"return\", [null, _context.t0]);\n\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[1, 10]], Promise);\n};\n\nexport var movieApi = {\n  nowPlaying: function nowPlaying() {\n    return getAnything(\"/movie/now_playing\");\n  },\n  popular: function popular() {\n    return getAnything(\"/movie/popular\");\n  },\n  upcoming: function upcoming() {\n    return getAnything(\"/movie/upcoming\", {\n      region: \"kr\"\n    });\n  },\n  search: function search(query) {\n    return getAnything(\"/search/movie\", {\n      query: query\n    });\n  },\n  movie: function movie(id) {\n    return getAnything(\"/movie/\" + id, {\n      append_to_response: \"videos\"\n    });\n  },\n  discover: function discover() {\n    return getAnything(\"/discover/movie\");\n  }\n};\nexport var tvApi = {\n  today: function today() {\n    return getAnything(\"/tv/airing_today\");\n  },\n  thisWeek: function thisWeek() {\n    return getAnything(\"/tv/on_the_air\");\n  },\n  topRated: function topRated() {\n    return getAnything(\"/tv/top_rated\");\n  },\n  popular: function popular() {\n    return getAnything(\"/tv/popular\");\n  },\n  search: function search(query) {\n    return getAnything(\"/search/tv\", {\n      query: query\n    });\n  },\n  show: function show(id) {\n    return getAnything(\"/tv/\" + id, {\n      append_to_response: \"videos\"\n    });\n  }\n};\nexport var apiImage = function apiImage(path) {\n  var defaultPoster = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"https://images.unsplash.com/photo-1571847140471-1d7766e825ea?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=673&q=80\";\n  return path ? \"https://image.tmdb.org/t/p/w500\" + path : defaultPoster;\n};","map":{"version":3,"sources":["/Users/mk-mac-171/MyProject/ranking-movie/api.js"],"names":["axios","TMDB_KEY","makeRequest","path","params","get","api_key","getAnything","results","data","console","log","movieApi","nowPlaying","popular","upcoming","region","search","query","movie","id","append_to_response","discover","tvApi","today","thisWeek","topRated","show","apiImage","defaultPoster"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAG,kCAAjB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD,EAAOC,MAAP;AAAA,SAClBJ,KAAK,CAACK,GAAN,kCAAyCF,IAAzC,EAAiD;AAC/CC,IAAAA,MAAM,kCACDA,MADC;AAEJE,MAAAA,OAAO,EAAEL;AAFL;AADyC,GAAjD,CADkB;AAAA,CAApB;;AAQA,IAAMM,WAAW,GAAG,SAAdA,WAAc,CAAOJ,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAaC,UAAAA,MAAb,2DAAsB,EAAtB;AAAA;AAAA;AAAA,2CAKNF,WAAW,CAACC,IAAD,EAAOC,MAAP,CALL;;AAAA;AAAA;AAGNI,UAAAA,OAHM,sBAGdC,IAHc,CAGND,OAHM;AAIdC,UAAAA,IAJc,sBAIdA,IAJc;AAAA,2CAMT,CAACD,OAAO,IAAIC,IAAZ,EAAkB,IAAlB,CANS;;AAAA;AAAA;AAAA;AAQhBC,UAAAA,OAAO,CAACC,GAAR;AARgB,2CAST,CAAC,IAAD,cATS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAApB;;AAaA,OAAO,IAAMC,QAAQ,GAAG;AACtBC,EAAAA,UAAU,EAAE;AAAA,WAAMN,WAAW,CAAC,oBAAD,CAAjB;AAAA,GADU;AAEtBO,EAAAA,OAAO,EAAE;AAAA,WAAMP,WAAW,CAAC,gBAAD,CAAjB;AAAA,GAFa;AAGtBQ,EAAAA,QAAQ,EAAE;AAAA,WAAMR,WAAW,CAAC,iBAAD,EAAoB;AAAES,MAAAA,MAAM,EAAE;AAAV,KAApB,CAAjB;AAAA,GAHY;AAItBC,EAAAA,MAAM,EAAE,gBAAAC,KAAK;AAAA,WAAIX,WAAW,CAAC,eAAD,EAAkB;AAAEW,MAAAA,KAAK,EAALA;AAAF,KAAlB,CAAf;AAAA,GAJS;AAKtBC,EAAAA,KAAK,EAAE,eAAAC,EAAE;AAAA,WAAIb,WAAW,aAAWa,EAAX,EAAiB;AAAEC,MAAAA,kBAAkB,EAAE;AAAtB,KAAjB,CAAf;AAAA,GALa;AAMtBC,EAAAA,QAAQ,EAAE;AAAA,WAAMf,WAAW,CAAC,iBAAD,CAAjB;AAAA;AANY,CAAjB;AASP,OAAO,IAAMgB,KAAK,GAAG;AACnBC,EAAAA,KAAK,EAAE;AAAA,WAAMjB,WAAW,CAAC,kBAAD,CAAjB;AAAA,GADY;AAEnBkB,EAAAA,QAAQ,EAAE;AAAA,WAAMlB,WAAW,CAAC,gBAAD,CAAjB;AAAA,GAFS;AAGnBmB,EAAAA,QAAQ,EAAE;AAAA,WAAMnB,WAAW,CAAC,eAAD,CAAjB;AAAA,GAHS;AAInBO,EAAAA,OAAO,EAAE;AAAA,WAAMP,WAAW,CAAC,aAAD,CAAjB;AAAA,GAJU;AAKnBU,EAAAA,MAAM,EAAE,gBAAAC,KAAK;AAAA,WAAIX,WAAW,CAAC,YAAD,EAAe;AAAEW,MAAAA,KAAK,EAALA;AAAF,KAAf,CAAf;AAAA,GALM;AAMnBS,EAAAA,IAAI,EAAE,cAAAP,EAAE;AAAA,WAAIb,WAAW,UAAQa,EAAR,EAAc;AAAEC,MAAAA,kBAAkB,EAAE;AAAtB,KAAd,CAAf;AAAA;AANW,CAAd;AASP,OAAO,IAAMO,QAAQ,GAAG,SAAXA,QAAW,CACtBzB,IADsB;AAAA,MAEtB0B,aAFsB,uEAEN,uIAFM;AAAA,SAGlB1B,IAAI,uCAAqCA,IAArC,GAA8C0B,aAHhC;AAAA,CAAjB","sourcesContent":["import axios from \"axios\";\n\nconst TMDB_KEY = \"10923b261ba94d897ac6b81148314a3f\";\n\nconst makeRequest = (path, params) =>\n  axios.get(`https://api.themoviedb.org/3${path}`, {\n    params: {\n      ...params,\n      api_key: TMDB_KEY\n    }\n  });\n\nconst getAnything = async (path, params = {}) => {\n  try {\n    const {\n      data: { results },\n      data\n    } = await makeRequest(path, params);\n    return [results || data, null];\n  } catch (e) {\n    console.log(e);\n    return [null, e];\n  }\n};\n\nexport const movieApi = {\n  nowPlaying: () => getAnything(\"/movie/now_playing\"),\n  popular: () => getAnything(\"/movie/popular\"),\n  upcoming: () => getAnything(\"/movie/upcoming\", { region: \"kr\" }),\n  search: query => getAnything(\"/search/movie\", { query }),\n  movie: id => getAnything(`/movie/${id}`, { append_to_response: \"videos\" }),\n  discover: () => getAnything(\"/discover/movie\")\n};\n\nexport const tvApi = {\n  today: () => getAnything(\"/tv/airing_today\"),\n  thisWeek: () => getAnything(\"/tv/on_the_air\"),\n  topRated: () => getAnything(\"/tv/top_rated\"),\n  popular: () => getAnything(\"/tv/popular\"),\n  search: query => getAnything(\"/search/tv\", { query }),\n  show: id => getAnything(`/tv/${id}`, { append_to_response: \"videos\" })\n};\n\nexport const apiImage = (\n  path,\n  defaultPoster = \"https://images.unsplash.com/photo-1571847140471-1d7766e825ea?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=673&q=80\"\n) => (path ? `https://image.tmdb.org/t/p/w500${path}` : defaultPoster);\n"]},"metadata":{},"sourceType":"module"}