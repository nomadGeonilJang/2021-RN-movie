{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nvar _jsxFileName = \"/Users/mk-mac-171/MyProject/ranking-movie/screens/Favs/FavsPresenter.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  border-radius: 20px;\\n  width: 100%;\\n  height: 100%;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n  flex: 1;\\n  background-color: black;\\n  align-items: center;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport styled from \"styled-components/native\";\nimport { apiImage } from \"../../api\";\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    WIDTH = _Dimensions$get.width,\n    HEIGHT = _Dimensions$get.height;\n\nvar Container = styled.View(_templateObject());\nvar Poster = styled.Image(_templateObject2());\nvar styles = {\n  top: 50,\n  height: HEIGHT / 1.5,\n  width: \"90%\",\n  position: \"absolute\"\n};\nexport default (function (_ref) {\n  var results = _ref.results;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      topIndex = _useState2[0],\n      setTopIndex = _useState2[1];\n\n  var nextCard = function nextCard() {\n    return setTopIndex(function (currentValue) {\n      return currentValue + 1;\n    });\n  };\n\n  var position = new Animated.ValueXY();\n  var panResponder = PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n      return true;\n    },\n    onPanResponderMove: function onPanResponderMove(evt, _ref2) {\n      var dx = _ref2.dx,\n          dy = _ref2.dy;\n      position.setValue({\n        x: dx,\n        y: dy\n      });\n    },\n    onPanResponderRelease: function onPanResponderRelease(evt, _ref3) {\n      var dx = _ref3.dx,\n          dy = _ref3.dy;\n\n      if (dx >= 250) {\n        Animated.spring(position, {\n          toValue: {\n            x: WIDTH + 100,\n            y: dy\n          }\n        }).start(nextCard);\n      } else if (dx <= -250) {\n        Animated.spring(position, {\n          toValue: {\n            x: -WIDTH - 100,\n            y: dy\n          }\n        }).start(nextCard);\n      } else {\n        Animated.spring(position, {\n          toValue: {\n            x: 0,\n            y: 0\n          }\n        }).start();\n      }\n    }\n  });\n  var roationValues = position.x.interpolate({\n    inputRange: [-255, 0, 255],\n    outputRange: [\"-8deg\", \"0deg\", \"8deg\"],\n    extrapolate: \"clamp\"\n  });\n  var secondCardOpacity = position.x.interpolate({\n    inputRange: [-255, 0, 255],\n    outputRange: [1, 0.2, 1],\n    extrapolate: \"clamp\"\n  });\n  var secondCardScale = position.x.interpolate({\n    inputRange: [-255, 0, 255],\n    outputRange: [1, 0.8, 1],\n    extrapolate: \"clamp\"\n  });\n  useEffect(function () {\n    position.setValue({\n      x: 0,\n      y: 0\n    });\n  }, [topIndex]);\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, results.map(function (result, index) {\n    if (index < topIndex) {\n      return null;\n    } else if (index === topIndex) {\n      return React.createElement(Animated.View, _extends({\n        style: _objectSpread(_objectSpread({}, styles), {}, {\n          zIndex: 1,\n          transform: [{\n            rotate: roationValues\n          }].concat(_toConsumableArray(position.getTranslateTransform()))\n        }),\n        key: result.id\n      }, panResponder.panHandlers, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }\n      }), React.createElement(Poster, {\n        source: {\n          uri: apiImage(result.poster_path)\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }\n      }));\n    } else if (index === topIndex + 1) {\n      return React.createElement(Animated.View, _extends({\n        style: _objectSpread(_objectSpread({}, styles), {}, {\n          zIndex: -index,\n          opacity: secondCardOpacity,\n          transform: [{\n            scale: secondCardScale\n          }]\n        }),\n        key: result.id\n      }, panResponder.panHandlers, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }\n      }), React.createElement(Poster, {\n        source: {\n          uri: apiImage(result.poster_path)\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }\n      }));\n    } else {\n      return React.createElement(Animated.View, _extends({\n        style: _objectSpread(_objectSpread({}, styles), {}, {\n          zIndex: -index,\n          opacity: 0\n        }),\n        key: result.id\n      }, panResponder.panHandlers, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }), React.createElement(Poster, {\n        source: {\n          uri: apiImage(result.poster_path)\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }\n      }));\n    }\n  }));\n});","map":{"version":3,"sources":["/Users/mk-mac-171/MyProject/ranking-movie/screens/Favs/FavsPresenter.js"],"names":["React","useState","useEffect","styled","apiImage","Dimensions","get","WIDTH","width","HEIGHT","height","Container","View","Poster","Image","styles","top","position","results","topIndex","setTopIndex","nextCard","currentValue","Animated","ValueXY","panResponder","PanResponder","create","onStartShouldSetPanResponder","onPanResponderMove","evt","dx","dy","setValue","x","y","onPanResponderRelease","spring","toValue","start","roationValues","interpolate","inputRange","outputRange","extrapolate","secondCardOpacity","secondCardScale","map","result","index","zIndex","transform","rotate","getTranslateTransform","id","panHandlers","uri","poster_path","opacity","scale"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { PanResponder, Dimensions, Animated } from \"react-native\";\nimport styled from \"styled-components/native\";\nimport { apiImage } from \"../../api\";\n\nconst { width: WIDTH, height: HEIGHT } = Dimensions.get(\"window\");\n\nconst Container = styled.View`\n  flex: 1;\n  background-color: black;\n  align-items: center;\n`;\n\nconst Poster = styled.Image`\n  border-radius: 20px;\n  width: 100%;\n  height: 100%;\n`;\n\nconst styles = {\n  top: 50,\n  height: HEIGHT / 1.5,\n  width: \"90%\",\n  position: \"absolute\"\n};\n\nexport default ({ results }) => {\n  const [topIndex, setTopIndex] = useState(0);\n  const nextCard = () => setTopIndex(currentValue => currentValue + 1);\n  const position = new Animated.ValueXY();\n  const panResponder = PanResponder.create({\n    onStartShouldSetPanResponder: () => true,\n    onPanResponderMove: (evt, { dx, dy }) => {\n      position.setValue({ x: dx, y: dy });\n    },\n    onPanResponderRelease: (evt, { dx, dy }) => {\n      if (dx >= 250) {\n        Animated.spring(position, {\n          toValue: {\n            x: WIDTH + 100,\n            y: dy\n          }\n        }).start(nextCard);\n      } else if (dx <= -250) {\n        Animated.spring(position, {\n          toValue: {\n            x: -WIDTH - 100,\n            y: dy\n          }\n        }).start(nextCard);\n      } else {\n        Animated.spring(position, {\n          toValue: {\n            x: 0,\n            y: 0\n          }\n        }).start();\n      }\n    }\n  });\n  const roationValues = position.x.interpolate({\n    inputRange: [-255, 0, 255],\n    outputRange: [\"-8deg\", \"0deg\", \"8deg\"],\n    extrapolate: \"clamp\"\n  });\n  const secondCardOpacity = position.x.interpolate({\n    inputRange: [-255, 0, 255],\n    outputRange: [1, 0.2, 1],\n    extrapolate: \"clamp\"\n  });\n  const secondCardScale = position.x.interpolate({\n    inputRange: [-255, 0, 255],\n    outputRange: [1, 0.8, 1],\n    extrapolate: \"clamp\"\n  });\n  useEffect(() => {\n    position.setValue({ x: 0, y: 0 });\n  }, [topIndex]);\n  return (\n    <Container>\n      {results.map((result, index) => {\n        if (index < topIndex) {\n          return null;\n        } else if (index === topIndex) {\n          return (\n            <Animated.View\n              style={{\n                ...styles,\n                zIndex: 1,\n                transform: [\n                  { rotate: roationValues },\n                  ...position.getTranslateTransform()\n                ]\n              }}\n              key={result.id}\n              {...panResponder.panHandlers}\n            >\n              <Poster source={{ uri: apiImage(result.poster_path) }} />\n            </Animated.View>\n          );\n        } else if (index === topIndex + 1) {\n          return (\n            <Animated.View\n              style={{\n                ...styles,\n                zIndex: -index,\n                opacity: secondCardOpacity,\n                transform: [{ scale: secondCardScale }]\n              }}\n              key={result.id}\n              {...panResponder.panHandlers}\n            >\n              <Poster source={{ uri: apiImage(result.poster_path) }} />\n            </Animated.View>\n          );\n        } else {\n          return (\n            <Animated.View\n              style={{\n                ...styles,\n                zIndex: -index,\n                opacity: 0\n              }}\n              key={result.id}\n              {...panResponder.panHandlers}\n            >\n              <Poster source={{ uri: apiImage(result.poster_path) }} />\n            </Animated.View>\n          );\n        }\n      })}\n    </Container>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}